<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
  <!--<![endif]-->
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>aes 测试</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="" />
  </head>
  <body>
    <!--[if lt IE 7]>
      <p class="browsehappy">
        You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your
        experience.
      </p>
    <![endif]-->
    <video id="xxx" src=""></video>
    <script src="https://sdk-release.qnsdk.com/qiniu-web-player-1.2.0.js" async defer></script>
    <script src="//rs.everygod.com/hls.min.js"></script>
    <script>
      window.onload = function() {
        const player = new QPlayer({
          url: 'http://od7ujw3bs.bkt.clouddn.com/DRM/drm_test3.mp4',
          container: document.getElementById('xxx'),
          autoplay: true,
          // hls: {
          //   DRMKey: 'wudao' // 七牛 HLS DRM 加密密钥
          // },
          mp4: {
            DRMCompanyKey: 'dmlkZW8=' // 七牛 MP4 DRM 的 CompanyKey
          }
        })
        window.player = player
      }
    </script>
    <!-- <script>
      var video = document.getElementById('xxx')
      if (Hls.isSupported()) {
        var hls = new Hls()
        hls.loadSource('http://od7ujw3bs.bkt.clouddn.com/DRM/drm_test3.mp4')
        hls.attachMedia(video)
        hls.on(Hls.Events.MANIFEST_PARSED, function() {
          video.play()
        })
      }
      // hls.js is not supported on platforms that do not have Media Source Extensions (MSE) enabled.
      // When the browser has built-in HLS support (check using `canPlayType`), we can provide an HLS manifest (i.e. .m3u8 URL) directly to the video element through the `src` property.
      // This is using the built-in support of the plain video element, without using hls.js.
      // Note: it would be more normal to wait on the 'canplay' event below however on Safari (where you are most likely to find built-in HLS support) the video.src URL must be on the user-driven
      // white-list before a 'canplay' event will be emitted; the last video event that can be reliably listened-for when the URL is not on the white-list is 'loadedmetadata'.
      else if (video.canPlayType('application/vnd.apple.mpegurl')) {
        video.src = 'http://od7ujw3bs.bkt.clouddn.com/DRM/drm_test3.mp4'
        video.addEventListener('loadedmetadata', function() {
          video.play()
        })
      }
    </script> -->
  </body>
</html>
